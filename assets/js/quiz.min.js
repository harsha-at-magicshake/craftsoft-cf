const quizData=[{question:"What excites you the most when you see a great website or app?",options:[{text:"The beautiful layout, colors, and visual design.",score:{design:10,uiux:8}},{text:"The features - how login works, how data flows.",score:{fullstack:10,python:8}},{text:"The speed and how it handles millions of users.",score:{aws:10,devops:10}},{text:"The clear messaging and professional tone.",score:{softskills:10,interview:5}}]},{question:"Which activity sounds most enjoyable to you?",options:[{text:"Creating logos, posters, and visual branding.",score:{design:10}},{text:"Building apps and writing code that works.",score:{fullstack:10,python:10}},{text:"Setting up servers and automating deployments.",score:{aws:10,devops:10}},{text:"Presenting ideas and communicating confidently.",score:{softskills:10,interview:8}}]},{question:"What's your biggest career goal right now?",options:[{text:"Become a creative professional in design.",score:{design:10,uiux:10}},{text:"Get a high-paying developer job at a tech company.",score:{fullstack:10,python:8,interview:5}},{text:"Work in cloud/DevOps and manage infrastructure.",score:{aws:10,devops:10}},{text:"Improve my communication and ace interviews.",score:{softskills:10,interview:10}}]},{question:"How do you prefer to solve problems?",options:[{text:"By sketching, wireframing, and visualizing.",score:{uiux:10,design:5}},{text:"By writing step-by-step logic and code.",score:{fullstack:10,python:10}},{text:"By analyzing systems and optimizing performance.",score:{devops:10,aws:8}},{text:"By discussing and finding collaborative solutions.",score:{softskills:10,interview:5}}]}],courseRecommendations={design:{title:"Graphic design",icon:"fas fa-paint-brush",url:"pages/courses/graphic-design.html",desc:"Unleash your creativity and master branding with our graphic design excellence program."},uiux:{title:"UI/UX design",icon:"fas fa-object-group",url:"pages/courses/ui-ux.html",desc:"Design interfaces that people love using Figma and modern design principles."},fullstack:{title:"Full stack development",icon:"fas fa-code",url:"pages/courses/full-stack.html",desc:"Become a complete developer by mastering frontend, backend, and databases."},devops:{title:"DevOps engineering",icon:"fas fa-infinity",url:"pages/courses/devops.html",desc:"Bridge the gap between development and operations with automation and CI/CD."},aws:{title:"AWS cloud excellence",icon:"fab fa-aws",url:"pages/courses/aws.html",desc:"Master the world's leading cloud platform and build scalable infrastructure."},softskills:{title:"Spoken English mastery",icon:"fas fa-comments",url:"pages/courses/spoken-english.html",desc:"Transform your personality and communication to excel in your professional career."},python:{title:"Python programming",icon:"fab fa-python",url:"pages/courses/python.html",desc:"Learn the most versatile programming language and build powerful applications."},interview:{title:"Resume & interview prep",icon:"fas fa-file-alt",url:"pages/courses/resume-interview.html",desc:"Master resume building, mock interviews, and land your dream job."}};let currentQuizStep=0,userScores={};function initQuiz(){const e=document.getElementById("startQuizBtn"),n=document.getElementById("inlineQuizContainer");document.getElementById("quizCtaContent");e&&n?e.addEventListener("click",function(){startInlineQuiz()}):e&&(e.addEventListener("click",openQuizModal),createModalIfNeeded())}function startInlineQuiz(){const e=document.getElementById("inlineQuizContainer"),n=document.getElementById("quizCtaContent"),t=document.getElementById("quizCtaCard");if(!e||!n)return;n.style.display="none",e.classList.add("active"),t.classList.add("quiz-active");const i=t.closest(".quiz-cta-section");i&&(i.style.padding="40px 0"),currentQuizStep=0,userScores={},renderInlineQuestion()}function renderInlineQuestion(){const e=document.getElementById("inlineQuizBody");if(!e)return;const n=quizData[currentQuizStep];e.innerHTML=`\n        <div class="inline-quiz-question">\n            <div class="quiz-progress-bar">\n                <div class="quiz-progress-fill" style="width: ${(currentQuizStep+1)/quizData.length*100}%"></div>\n            </div>\n            <span class="quiz-step-indicator">Question ${currentQuizStep+1} of ${quizData.length}</span>\n            <h3>${n.question}</h3>\n            <div class="quiz-options">\n                ${n.options.map((e,n)=>`\n                    <button class="quiz-option" data-option-index="${n}">\n                        ${e.text}\n                    </button>\n                `).join("")}\n            </div>\n        </div>\n    `;e.querySelectorAll(".quiz-option").forEach(e=>{e.addEventListener("click",function(){handleInlineOptionSelect(parseInt(this.getAttribute("data-option-index")))})})}function handleInlineOptionSelect(e){const n=quizData[currentQuizStep].options[e];for(const[e,t]of Object.entries(n.score))userScores[e]=(userScores[e]||0)+t;currentQuizStep++,currentQuizStep<quizData.length?renderInlineQuestion():renderInlineResult()}function renderInlineResult(){const e=document.getElementById("inlineQuizBody");if(!e)return;let n="fullstack",t=-1;for(const[e,i]of Object.entries(userScores))i>t&&(t=i,n=e);const i=courseRecommendations[n]||courseRecommendations.fullstack;e.innerHTML=`\n        <div class="inline-quiz-result">\n            <div class="result-badge">üéâ Perfect match found!</div>\n            <div class="result-icon"><i class="${i.icon}"></i></div>\n            <h2>We recommend: ${i.title}</h2>\n            <p>${i.desc}</p>\n            <div class="result-actions">\n                <a href="https://wa.me/917842239090?text=I'd like to enroll in ${i.title}!" target="_blank" class="btn btn-primary">\n                    <i class="fab fa-whatsapp"></i> Enroll via WhatsApp\n                </a>\n                <span class="result-divider">or</span>\n                <a href="${i.url}" class="btn btn-secondary">View course details</a>\n            </div>\n            <button class="quiz-restart" id="inlineRestartBtn"><i class="fas fa-dice"></i> Take another quiz</button>\n        </div>\n    `;const o=e.querySelector("#inlineRestartBtn");o&&o.addEventListener("click",resetInlineQuiz)}function resetInlineQuiz(){const e=document.getElementById("inlineQuizContainer"),n=document.getElementById("quizCtaContent"),t=document.getElementById("quizCtaCard");if(!e||!n)return;e.classList.remove("active"),t.classList.remove("quiz-active"),n.style.display="";const i=t.closest(".quiz-cta-section");i&&(i.style.padding=""),currentQuizStep=0,userScores={}}function createModalIfNeeded(){if(!document.getElementById("quizModal")){const e='\n            <div id="quizModal" class="quiz-modal">\n                <div class="quiz-modal-content">\n                    <button class="quiz-close" id="quizCloseBtn" aria-label="Close quiz">&times;</button>\n                    <div id="quizBody">\n                        <div class="quiz-intro">\n                            <i class="fas fa-graduation-cap quiz-main-icon"></i>\n                            <h2>Find Your Perfect Career Path</h2>\n                            <p>Answer 3 quick questions and we\'ll recommend the best course for you!</p>\n                            <button class="btn btn-primary" id="quizStartBtn">Get Started</button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        ';document.body.insertAdjacentHTML("beforeend",e),injectQuizStyles();const n=document.getElementById("quizCloseBtn"),t=document.getElementById("quizStartBtn"),i=document.getElementById("quizModal");n&&n.addEventListener("click",closeQuizModal),t&&t.addEventListener("click",startQuiz),i&&i.addEventListener("click",function(e){e.target===i&&closeQuizModal()}),document.addEventListener("keydown",function(e){"Escape"===e.key&&i&&i.classList.contains("active")&&closeQuizModal()})}}function openQuizModal(){const e=document.getElementById("quizModal");e&&(e.classList.add("active"),document.body.style.overflow="hidden")}function closeQuizModal(){const e=document.getElementById("quizModal");e&&(e.classList.remove("active"),document.body.style.overflow="",setTimeout(()=>{currentQuizStep=0,userScores={},renderQuizIntro()},300))}function renderQuizIntro(){const e=document.getElementById("quizBody");if(!e)return;e.innerHTML='\n        <div class="quiz-intro">\n            <i class="fas fa-graduation-cap quiz-main-icon"></i>\n            <h2>Find Your Perfect Career Path</h2>\n            <p>Answer 3 quick questions and we\'ll recommend the best course for you!</p>\n            <button class="btn btn-primary" id="modalStartBtn">Get Started</button>\n        </div>\n    ';const n=e.querySelector("#modalStartBtn");n&&n.addEventListener("click",startQuiz)}function startQuiz(){currentQuizStep=0,userScores={},renderQuestion()}function renderQuestion(){const e=document.getElementById("quizBody");if(!e)return;const n=quizData[currentQuizStep];e.innerHTML=`\n        <div class="quiz-question-container">\n            <div class="quiz-progress-bar">\n                <div class="quiz-progress-fill" style="width: ${(currentQuizStep+1)/quizData.length*100}%"></div>\n            </div>\n            <span class="quiz-step-indicator">Question ${currentQuizStep+1} of ${quizData.length}</span>\n            <h3>${n.question}</h3>\n            <div class="quiz-options">\n                ${n.options.map((e,n)=>`\n                    <button class="quiz-option" data-option-index="${n}">\n                        ${e.text}\n                    </button>\n                `).join("")}\n            </div>\n        </div>\n    `;e.querySelectorAll(".quiz-option").forEach(e=>{e.addEventListener("click",function(){handleOptionSelect(parseInt(this.getAttribute("data-option-index")))})})}function handleOptionSelect(e){const n=quizData[currentQuizStep].options[e];for(const[e,t]of Object.entries(n.score))userScores[e]=(userScores[e]||0)+t;currentQuizStep++,currentQuizStep<quizData.length?renderQuestion():renderResult()}function renderResult(){const e=document.getElementById("quizBody");if(!e)return;let n="fullstack",t=-1;for(const[e,i]of Object.entries(userScores))i>t&&(t=i,n=e);const i=courseRecommendations[n]||courseRecommendations.fullstack;e.innerHTML=`\n        <div class="quiz-result" style="animation: slideUp 0.5s ease-out;">\n            <div class="result-badge">Perfect Match Found!</div>\n            <div class="result-icon"><i class="${i.icon}"></i></div>\n            <h2>We Recommend: ${i.title}</h2>\n            <p>${i.desc}</p>\n            <div class="result-actions">\n                <a href="https://wa.me/917842239090?text=I'd like to enroll in ${i.title}!" target="_blank" class="btn btn-primary">\n                    <i class="fab fa-whatsapp"></i> Enroll via WhatsApp\n                </a>\n                <a href="${i.url}" class="btn btn-secondary">View Course Details</a>\n            </div>\n            <button class="quiz-restart" id="quizRestartBtn">‚Üê Take Another Quiz</button>\n        </div>\n    `;const o=e.querySelector("#quizRestartBtn");o&&o.addEventListener("click",startQuiz)}function injectQuizStyles(){const e=document.createElement("style");e.textContent="\n        .quiz-modal {\n            position: fixed;\n            top: 0; left: 0; width: 100%; height: 100%;\n            background: rgba(15, 23, 42, 0.9);\n            backdrop-filter: blur(8px);\n            display: flex; align-items: center; justify-content: center;\n            z-index: 3000;\n            opacity: 0; visibility: hidden;\n            transition: all 0.3s ease;\n        }\n        .quiz-modal.active { opacity: 1; visibility: visible; }\n        .quiz-modal-content {\n            background: white;\n            width: 90%; max-width: 500px;\n            padding: 40px; border-radius: 24px;\n            position: relative;\n            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);\n            text-align: center;\n        }\n        .quiz-close {\n            position: absolute; top: 20px; right: 20px;\n            background: none; border: none; font-size: 24px;\n            cursor: pointer; color: #64748b;\n        }\n        .quiz-main-icon { font-size: 3rem; color: #6c5ce7; margin-bottom: 20px; }\n        .quiz-intro h2 { margin-bottom: 12px; font-size: 1.75rem; color: #1e293b; }\n        .quiz-intro p { color: #64748b; margin-bottom: 30px; }\n        \n        .quiz-progress-bar { width: 100%; height: 6px; background: #e2e8f0; border-radius: 3px; margin-bottom: 20px; overflow: hidden; }\n        .quiz-progress-fill { height: 100%; background: #6c5ce7; transition: width 0.3s ease; }\n        .quiz-step-indicator { display: block; font-size: 0.8rem; color: #64748b; margin-bottom: 8px; font-weight: 500; }\n        \n        .quiz-question-container h3 { margin-bottom: 24px; font-size: 1.4rem; color: #1e293b; line-height: 1.4; }\n        .quiz-options { display: grid; gap: 12px; }\n        .quiz-option {\n            padding: 16px 20px; border: 2px solid #e2e8f0; border-radius: 12px;\n            background: white; cursor: pointer; text-align: left;\n            font-size: 1rem; color: #334155; font-weight: 500;\n            transition: all 0.2s ease;\n        }\n        .quiz-option:hover { border-color: #6c5ce7; background: #f8fafc; transform: translateX(5px); }\n        \n        .quiz-result .result-badge { \n            display: inline-block; padding: 6px 16px; background: rgba(0, 184, 148, 0.1);\n            color: #00b894; border-radius: 50px; font-weight: 700; font-size: 0.75rem;\n            margin-bottom: 15px; letter-spacing: 1px;\n        }\n        .result-icon { font-size: 4rem; color: #6c5ce7; margin-bottom: 20px; }\n        .quiz-result h2 { font-size: 1.8rem; margin-bottom: 15px; color: #1e293b; }\n        .quiz-result p { color: #64748b; margin-bottom: 30px; line-height: 1.6; }\n        .result-actions { display: flex; flex-direction: column; gap: 12px; margin-bottom: 25px; }\n        .quiz-restart { background: none; border: none; color: #6c5ce7; text-decoration: underline; cursor: pointer; font-size: 0.9rem; }\n        \n        /* Inline Quiz Styles */\n        .inline-quiz-container {\n            display: none;\n            width: 100%;\n            max-height: 500px;\n            overflow-y: auto;\n            padding: 20px;\n            background: rgba(255, 255, 255, 0.95);\n            border-radius: 16px;\n            margin-top: 20px;\n        }\n        .inline-quiz-container.active { display: block; animation: slideUp 0.4s ease-out; }\n        .quiz-cta-card.quiz-active { flex-direction: column; }\n        .quiz-cta-card.quiz-active .quiz-cta-image { display: none; }\n        \n        .inline-quiz-question h3 { color: #1e293b; margin-bottom: 20px; font-size: 1.25rem; line-height: 1.5; }\n        .inline-quiz-result { \n            text-align: center; \n            padding: 30px 20px;\n            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n            border-radius: 20px;\n            color: white;\n        }\n        .inline-quiz-result .result-badge {\n            background: rgba(255, 255, 255, 0.2);\n            color: white;\n            padding: 8px 20px;\n            border-radius: 20px;\n            font-weight: 600;\n            font-size: 0.85rem;\n            display: inline-block;\n            margin-bottom: 15px;\n        }\n        .inline-quiz-result .result-icon {\n            font-size: 3rem;\n            color: white;\n            opacity: 0.9;\n            margin-bottom: 15px;\n        }\n        .inline-quiz-result h2 { color: white; font-size: 1.5rem; margin-bottom: 10px; }\n        .inline-quiz-result p { color: rgba(255, 255, 255, 0.85); margin-bottom: 25px; }\n        .inline-quiz-result .result-actions { \n            display: flex; \n            flex-direction: row; \n            flex-wrap: wrap; \n            justify-content: center; \n            align-items: center;\n            gap: 15px;\n            margin-bottom: 20px;\n        }\n        .inline-quiz-result .result-divider {\n            color: rgba(255, 255, 255, 0.6);\n            font-size: 0.85rem;\n            text-transform: uppercase;\n            font-weight: 500;\n        }\n        .inline-quiz-result .btn-primary {\n            background: white;\n            color: #667eea;\n        }\n        .inline-quiz-result .btn-secondary {\n            background: transparent;\n            border: 2px solid white;\n            color: white;\n        }\n        .inline-quiz-result .btn-secondary:hover {\n            background: white;\n            color: #667eea;\n        }\n        .inline-quiz-result .quiz-restart {\n            background: rgba(255, 255, 255, 0.15);\n            border: none;\n            color: white;\n            padding: 10px 20px;\n            border-radius: 25px;\n            cursor: pointer;\n            font-size: 0.9rem;\n            transition: all 0.3s ease;\n            display: inline-flex;\n            align-items: center;\n            gap: 8px;\n        }\n        .inline-quiz-result .quiz-restart:hover {\n            background: rgba(255, 255, 255, 0.25);\n        }\n        \n        @keyframes slideUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }\n    ",document.head.appendChild(e)}document.addEventListener("DOMContentLoaded",initQuiz),window.startQuiz=startQuiz,window.handleOptionSelect=handleOptionSelect,window.closeQuizModal=closeQuizModal,window.openQuizModal=openQuizModal,window.resetInlineQuiz=resetInlineQuiz;