<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description"
        content="Verify your payment receipt from Abhi's Craft Soft. Enter your Receipt ID to confirm authenticity.">
    <meta name="robots" content="noindex">
    <title>Verify Receipt - Abhi's Craft Soft</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Italianno&family=Inter:wght@300;400;500;600;700;800&family=Outfit:wght@400;500;600;700;800&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="icon" type="image/svg+xml" href="../favicon.svg">
    <link rel="stylesheet" href="../assets/css/main.css">    <link rel="stylesheet" href="assets/css/utilities/skeleton.css?v=1.0">
    <style>
        .verify-section {
            min-height: calc(100vh - 200px);
            display: flex;
            align-items: center;
            justify-content: center;
            padding: var(--spacing-2xl) var(--spacing-md);
            background: linear-gradient(135deg, rgba(9, 132, 227, 0.03) 0%, rgba(108, 92, 231, 0.03) 100%);
        }

        .verify-container {
            max-width: 520px;
            width: 100%;
            margin: 0 auto;
        }

        .verify-card {
            background: var(--white);
            border-radius: var(--radius-xl);
            box-shadow: 0 4px 24px rgba(0, 0, 0, 0.08);
            padding: var(--spacing-2xl);
            text-align: center;
        }

        .verify-input-group {
            text-align: left;
        }

        .verify-icon {
            width: 72px;
            height: 72px;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto var(--spacing-lg);
        }

        .verify-icon i {
            font-size: 28px;
            color: var(--white);
        }

        .verify-card h1 {
            font-size: 1.75rem;
            font-weight: 700;
            color: var(--dark);
            margin-bottom: var(--spacing-sm);
        }

        .verify-card>p {
            color: var(--text-muted);
            margin-bottom: var(--spacing-xl);
        }

        .verify-input-group {
            display: flex;
            gap: 12px;
            margin-bottom: var(--spacing-lg);
        }

        .verify-input-group input {
            flex: 1;
            padding: 14px 18px;
            border: 2px solid #e2e8f0;
            border-radius: var(--radius-lg);
            font-size: 1rem;
            font-family: 'Courier New', monospace;
            letter-spacing: 0.5px;
            transition: border-color 0.3s ease;
        }

        .verify-input-group input:focus {
            outline: none;
            border-color: var(--primary);
        }

        .verify-input-group input::placeholder {
            color: #a0aec0;
            font-family: var(--font-primary);
        }

        .verify-btn {
            padding: 14px 28px;
            background: linear-gradient(135deg, #0984e3, #6c5ce7);
            color: #ffffff;
            border: none;
            border-radius: 12px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            white-space: nowrap;
            flex-shrink: 0;
            font-size: 1rem;
        }

        .verify-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(9, 132, 227, 0.3);
        }

        .verify-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        /* Result Styles */
        .result-card {
            margin-top: var(--spacing-xl);
            padding: var(--spacing-lg);
            border-radius: var(--radius-lg);
            text-align: left;
            display: none;
        }

        .result-card.verified {
            background: rgba(16, 185, 129, 0.08);
            border: 1px solid rgba(16, 185, 129, 0.2);
            display: block;
        }

        .result-card.not-found {
            background: rgba(239, 68, 68, 0.08);
            border: 1px solid rgba(239, 68, 68, 0.2);
            display: block;
        }

        .result-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: var(--spacing-md);
        }

        .result-badge {
            padding: 6px 14px;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .result-badge.success {
            background: #10B981;
            color: white;
        }

        .result-badge.error {
            background: #EF4444;
            color: white;
        }

        .result-details {
            display: grid;
            gap: 12px;
        }

        .result-row {
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
            border-bottom: 1px solid rgba(0, 0, 0, 0.05);
        }

        .result-row:last-child {
            border-bottom: none;
        }

        .result-label {
            color: var(--text-muted);
            font-size: 0.875rem;
        }

        .result-value {
            font-weight: 600;
            color: var(--dark);
            font-family: 'Courier New', monospace;
        }

        .result-value.amount {
            color: #10B981;
        }

        .result-footer {
            margin-top: var(--spacing-md);
            padding-top: var(--spacing-md);
            border-top: 1px solid rgba(0, 0, 0, 0.08);
            font-size: 0.85rem;
            color: var(--text-muted);
        }

        .result-footer i {
            color: #10B981;
            margin-right: 6px;
        }

        .download-pdf-btn {
            width: 100%;
            padding: 14px 20px;
            background: linear-gradient(135deg, #10B981, #34D399);
            color: white;
            border: none;
            border-radius: var(--radius-lg);
            font-weight: 600;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            margin-top: var(--spacing-lg);
        }

        .download-pdf-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(16, 185, 129, 0.3);
        }

        .error-message {
            color: #EF4444;
            margin-top: var(--spacing-sm);
        }

        @media (max-width: 576px) {
            .verify-input-group {
                flex-direction: column;
            }

            .verify-btn {
                width: 100%;
            }

            .verify-card {
                padding: var(--spacing-lg);
            }

            .verify-icon {
                width: 60px;
                height: 60px;
            }

            .verify-icon i {
                font-size: 24px;
            }

            .verify-card h1 {
                font-size: 1.5rem;
            }
        }
    </style>
    <!-- FOUC Protection -->
    <style>
        .no-fouc { opacity: 0; }
        body { transition: opacity 0.3s ease; }
    </style>
    <script>
        document.documentElement.className += ' no-fouc';
        document.addEventListener('DOMContentLoaded', function() {
            document.documentElement.classList.remove('no-fouc');
        });
        window.addEventListener('load', function() {
            document.documentElement.classList.remove('no-fouc');
        });
    </script>
</head>

<body>
    <!-- Page Transition Overlay -->
        <!-- Page Transition Overlay -->
    <div class="page-transition">
        <div class="page-skeleton-wrapper">
            <div class="skeleton-nav-strip skeleton">
                <div class="skeleton-nav-circle"></div>
                <div class="skeleton-nav-line"></div>
                <div class="skeleton-nav-line"></div>
                <div class="skeleton-nav-line"></div>
            </div>
            <div class="skeleton-hero-block skeleton">
                <div class="skeleton-hero-line-1"></div>
                <div class="skeleton-hero-line-2"></div>
                <div class="skeleton-hero-btn"></div>
            </div>
            <div class="skeleton-grid-placeholder">
                <div class="skeleton-grid-item skeleton"></div>
                <div class="skeleton-grid-item skeleton"></div>
                <div class="skeleton-grid-item skeleton"></div>
            </div>
        </div>
    </div>
    </div>
    <!-- Navbar -->
    <nav class="navbar" id="navbar">
        <div class="container nav-container">
            <a href="../index.html" class="logo">
                <div class="logo-placeholder"><i class="fas fa-graduation-cap"></i></div>
                <span class="logo-text"><span class="logo-signature">Abhi's</span> <span class="highlight">Craft
                        Soft</span></span>
            </a>
            <ul class="nav-menu" id="nav-menu">
          <div class="mobile-menu-header">
            <div class="logo">
              <div class="logo-placeholder"><i class="fas fa-graduation-cap"></i></div>
              <span class="logo-text"><span class="logo-signature">Abhi's</span> <span class="highlight">Craft Soft</span></span>
            </div>
            <button class="nav-close" id="navClose" aria-label="Close menu">&times;</button>
          </div>
          <li><a href="../index.html" class="nav-link">Home</a></li>
                <li><a href="../about.html" class="nav-link">About</a></li>
                <li><a href="courses.html" class="nav-link">Courses</a></li>
                <li><a href="services.html" class="nav-link">Services</a></li>
                <li><a href="../index.html#contact" class="nav-link">Contact</a></li>
            </ul>
            <button class="hamburger" id="hamburger" aria-label="Toggle menu">
                <span class="bar"></span><span class="bar"></span><span class="bar"></span>
            </button>
        </div>
    </nav>

    <!-- Verify Section -->
    <section class="verify-section">
        <div class="container verify-container">
            <div class="verify-card">
                <div class="verify-icon">
                    <i class="fas fa-shield-alt"></i>
                </div>
                <h1>Verify Payment Receipt</h1>
                <p>Enter your Receipt ID to verify the authenticity of your payment receipt.</p>

                <div class="verify-input-group">
                    <input type="text" id="receiptId" placeholder="Enter Receipt ID" autocomplete="off">
                    <button class="verify-btn" id="verifyBtn" onclick="verifyReceipt()">
                        <i class="fas fa-search"></i> Verify
                    </button>
                </div>

                <!-- Result Section -->
                <div id="resultCard" class="result-card"></div>
            </div>
        </div>
    </section>

    <!-- Footer -->
        <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-brand">
                    <a href="../index.html" class="logo">
                        <div class="logo-placeholder"><i class="fas fa-graduation-cap"></i></div>
                        <span class="logo-text"><span class="logo-signature">Abhi's</span> <span class="highlight">Craft Soft</span></span>
                    </a>
                    <p>Empowering careers through quality education and professional IT services. Your journey to excellence starts here.</p>
                </div>
                <div class="footer-links">
                    <h4>Quick links</h4>
                    <ul>
                        <li><a href="../about.html">About us</a></li>
                        <li><a href="../courses.html">All courses</a></li>
                        <li><a href="../services.html">Our services</a></li>
                        <li><a href="../contact.html">Contact us</a></li>
                    </ul>
                </div>
                <div class="footer-links">
                    <h4>Courses</h4>
                    <ul id="footer-trending-courses">
                        <li><span class="skeleton skeleton-dark" style="display:inline-block;width:120px;height:14px;"></span></li>
                        <li><span class="skeleton skeleton-dark" style="display:inline-block;width:100px;height:14px;"></span></li>
                        <li><span class="skeleton skeleton-dark" style="display:inline-block;width:130px;height:14px;"></span></li>
                        <li><span class="skeleton skeleton-dark" style="display:inline-block;width:90px;height:14px;"></span></li>
                    </ul>
                </div>
                <div class="footer-links">
                    <h4>Services</h4>
                    <ul id="footer-services">
                        <li><span class="skeleton skeleton-dark" style="display:inline-block;width:110px;height:14px;"></span></li>
                        <li><span class="skeleton skeleton-dark" style="display:inline-block;width:95px;height:14px;"></span></li>
                        <li><span class="skeleton skeleton-dark" style="display:inline-block;width:125px;height:14px;"></span></li>
                        <li><span class="skeleton skeleton-dark" style="display:inline-block;width:85px;height:14px;"></span></li>
                    </ul>
                </div>
                <div class="footer-contact">
                    <h4>Get in touch</h4>
                    <ul>
                        <li><i class="fas fa-map-marker-alt"></i><a href="https://maps.app.goo.gl/uiTwuixvPKM8oJ9b8" target="_blank">Plot No. 163, Vijayasree Colony,<br>Vanasthalipuram, Hyderabad 500070</a></li>
                        <li><i class="fas fa-phone"></i><a href="tel:+917842239090">+91 7842239090</a></li>
                        <li><i class="fas fa-envelope"></i><a href="mailto:team.craftsoft@gmail.com">team.craftsoft@gmail.com</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 Abhi's Craft Soft. All rights reserved.</p>
                <div class="footer-legal-links">
                    <a href="terms-of-service.html">Terms of service</a>
                    <span>|</span>
                    <a href="privacy-policy.html">Privacy policy</a>
                </div>
            </div>
        </div>
    </footer>

    <!-- jsPDF for Receipt Generation -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <!-- QR Code Generator -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <script>
        let currentReceiptData = null;

        // Add Enter key support for receipt verification
        document.addEventListener('DOMContentLoaded', function () {
            const receiptInput = document.getElementById('receiptId');
            if (receiptInput) {
                receiptInput.addEventListener('keydown', function (e) {
                    if (e.key === 'Enter') {
                        e.preventDefault();
                        verifyReceipt();
                    }
                });
            }
        });

        async function verifyReceipt() {
            const resultCard = document.getElementById('resultCard');

            resultCard.className = 'result-card not-found';
            resultCard.innerHTML = `
                <div class="result-header">
                    <span class="result-badge error">Maintenance</span>
                </div>
                <p class="error-message">The verification system is currently undergoing maintenance. Please contact support at +91 7842239090 for manual verification.</p>
            `;
        }

        async function downloadPDF() {
            if (!currentReceiptData) {
                alert('No receipt data found.');
                return;
            }

            const data = currentReceiptData;
            const { jsPDF } = window.jspdf;
            const doc = new jsPDF('p', 'mm', 'a4');

            // Colors matching the design
            const colors = {
                primary: [31, 122, 92],
                textDark: [15, 23, 42],
                textMuted: [100, 116, 139],
                border: [229, 231, 235],
                bgLight: [248, 250, 252],
                badgeBlue: [37, 99, 235],
                white: [255, 255, 255]
            };

            const margin = 25;
            const pageWidth = 210;
            const pageHeight = 297;
            let y = margin;

            // === HEADER ===
            doc.setFontSize(18);
            doc.setTextColor(...colors.primary);
            doc.setFont('helvetica', 'bold');
            doc.text("Abhi's Craft Soft", margin, y);

            doc.setFontSize(9);
            doc.setTextColor(...colors.textMuted);
            doc.setFont('helvetica', 'normal');
            doc.text('Receipt ID', pageWidth - margin, y - 2, { align: 'right' });

            doc.setFontSize(10);
            doc.setTextColor(...colors.textDark);
            doc.setFont('helvetica', 'bold');
            doc.text(data.receiptId, pageWidth - margin, y + 4, { align: 'right' });

            y += 12;

            doc.setDrawColor(...colors.border);
            doc.setLineWidth(0.3);
            doc.line(margin, y, pageWidth - margin, y);

            y += 15;

            // === TITLE ===
            doc.setFontSize(24);
            doc.setTextColor(...colors.textDark);
            doc.setFont('helvetica', 'bold');
            doc.text('Payment Receipt', margin, y);

            y += 6;

            doc.setFontSize(10);
            doc.setTextColor(...colors.textMuted);
            doc.setFont('helvetica', 'normal');
            doc.text('This is a payment receipt for your enrollment in ' + (data.course || 'Course') + '.', margin, y);

            y += 10;

            // === BADGE ===
            const isFullPayment = data.status === 'Full Payment' || data.status === 'Paid';
            const badgeColor = isFullPayment ? colors.primary : colors.badgeBlue;
            const badgeText = isFullPayment ? 'FULL PAYMENT' : 'PARTIAL PAYMENT';

            doc.setFillColor(...badgeColor);
            doc.roundedRect(margin, y, 38, 7, 3, 3, 'F');

            doc.setFontSize(8);
            doc.setTextColor(...colors.white);
            doc.setFont('helvetica', 'bold');
            doc.text(badgeText, margin + 19, y + 5, { align: 'center' });

            y += 14;

            // === AMOUNT ===
            doc.setFontSize(9);
            doc.setTextColor(...colors.textMuted);
            doc.setFont('helvetica', 'normal');
            doc.text('AMOUNT PAID', margin, y);

            y += 10;

            doc.setFontSize(28);
            doc.setTextColor(...colors.textDark);
            doc.setFont('helvetica', 'bold');
            const amountFormatted = Number(data.amount).toLocaleString('en-IN', { minimumFractionDigits: 2, maximumFractionDigits: 2 });
            doc.text('Rs. ' + amountFormatted, margin, y);

            y += 6;

            doc.setFontSize(10);
            doc.setTextColor(...colors.textMuted);
            doc.setFont('helvetica', 'normal');
            doc.text('via ' + (data.mode || 'Cash'), margin, y);

            y += 14;

            // === RECIPIENT ===
            doc.setDrawColor(...colors.border);
            doc.setLineWidth(0.3);
            doc.line(margin, y, pageWidth - margin, y);

            y += 10;

            const col2X = 110;

            doc.setFontSize(9);
            doc.setTextColor(...colors.textMuted);
            doc.text('ISSUED TO', margin, y);
            doc.text('PAID ON', col2X, y);

            y += 6;

            doc.setFontSize(12);
            doc.setTextColor(...colors.textDark);
            doc.setFont('helvetica', 'bold');
            doc.text(data.studentName || 'Student', margin, y);
            doc.text(data.date || '-', col2X, y);

            y += 5;

            doc.setFontSize(10);
            doc.setTextColor(...colors.primary);
            doc.setFont('helvetica', 'normal');
            doc.text(data.phone || '', margin, y);

            y += 14;

            // === TABLE ===
            doc.setDrawColor(...colors.border);
            doc.line(margin, y, pageWidth - margin, y);

            y += 8;

            doc.setFontSize(8);
            doc.setTextColor(...colors.textMuted);
            doc.text('NAME OF THE COURSE', margin, y);
            doc.text('MODE OF PAYMENT', 100, y);
            doc.text('AMOUNT PAID', pageWidth - margin, y, { align: 'right' });

            y += 8;
            doc.line(margin, y, pageWidth - margin, y);
            y += 8;

            doc.setFontSize(11);
            doc.setTextColor(...colors.textDark);
            doc.setFont('helvetica', 'normal');
            doc.text(data.course || 'Course', margin, y);
            doc.text(data.mode || 'Cash', 100, y);

            doc.setTextColor(...colors.primary);
            doc.setFont('helvetica', 'bold');
            doc.text('Rs. ' + amountFormatted, pageWidth - margin, y, { align: 'right' });

            y += 16;

            // === SUMMARY BOX ===
            const totalFee = data.totalFee || data.amount;
            const amountPaid = data.amount;
            const balanceDue = totalFee - amountPaid;

            const boxWidth = 70;
            const boxX = pageWidth - margin - boxWidth;
            const boxHeight = 38;

            doc.setFillColor(...colors.bgLight);
            doc.roundedRect(boxX, y, boxWidth, boxHeight, 2, 2, 'F');

            doc.setDrawColor(...colors.border);
            doc.setLineWidth(0.3);
            doc.roundedRect(boxX, y, boxWidth, boxHeight, 2, 2);

            let innerY = y + 8;

            doc.setFontSize(9);
            doc.setTextColor(...colors.textMuted);
            doc.setFont('helvetica', 'normal');
            doc.text('Total Fee', boxX + 4, innerY);
            doc.setTextColor(...colors.textDark);
            doc.setFont('helvetica', 'bold');
            doc.text('Rs. ' + Number(totalFee).toLocaleString('en-IN', { minimumFractionDigits: 2 }), boxX + boxWidth - 4, innerY, { align: 'right' });

            innerY += 8;

            doc.setTextColor(...colors.primary);
            doc.setFont('helvetica', 'normal');
            doc.text('Amount Paid', boxX + 4, innerY);
            doc.text('Rs. ' + amountFormatted, boxX + boxWidth - 4, innerY, { align: 'right' });

            innerY += 10;

            doc.setDrawColor(...colors.border);
            doc.line(boxX + 4, innerY - 3, boxX + boxWidth - 4, innerY - 3);

            if (balanceDue > 0) {
                doc.setTextColor(220, 38, 38);
                doc.setFont('helvetica', 'bold');
                doc.text('Balance Due', boxX + 4, innerY);
                doc.text('Rs. ' + Number(balanceDue).toLocaleString('en-IN', { minimumFractionDigits: 2 }), boxX + boxWidth - 4, innerY, { align: 'right' });
            } else {
                doc.setTextColor(...colors.primary);
                doc.setFont('helvetica', 'bold');
                doc.text('Fully Paid', boxX + 4, innerY);
                doc.text('Rs. 0.00', boxX + boxWidth - 4, innerY, { align: 'right' });
            }

            // === FOOTER ===
            const footerY = pageHeight - 50;

            doc.setDrawColor(...colors.border);
            doc.setLineWidth(0.3);
            doc.line(margin, footerY, pageWidth - margin, footerY);

            doc.setFontSize(9);
            doc.setTextColor(...colors.textDark);
            doc.setFont('helvetica', 'bold');
            doc.text("Abhi's Craft Soft", margin, footerY + 8);

            doc.setFontSize(8);
            doc.setTextColor(...colors.textMuted);
            doc.setFont('helvetica', 'normal');
            doc.text('Plot No. 163, Vijayasree Colony,', margin, footerY + 13);
            doc.text('Vanasthalipuram, Hyderabad 500070', margin, footerY + 18);
            doc.text('Phone: +91 7842239090', margin, footerY + 23);
            doc.text('Email: team.craftsoft@gmail.com', margin, footerY + 28);

            const centerX = 115;
            doc.setFontSize(8);
            doc.setTextColor(...colors.textMuted);
            doc.text('Scan to verify', centerX, footerY + 8);

            doc.setTextColor(...colors.primary);
            doc.setFont('helvetica', 'bold');
            doc.text('craftsoft.co.in/verify', centerX, footerY + 13);

            // QR Code
            const qrUrl = 'https://craftsoft.co.in/pages/verify.html?id=' + data.receiptId;

            const qrContainer = document.createElement('div');
            qrContainer.style.cssText = 'position:absolute;left:-9999px;';
            document.body.appendChild(qrContainer);

            const qrCode = new QRCode(qrContainer, {
                text: qrUrl,
                width: 200,
                height: 200,
                colorDark: '#1f7a5c',
                colorLight: '#ffffff',
                correctLevel: QRCode.CorrectLevel.M
            });

            await new Promise(resolve => setTimeout(resolve, 100));

            const qrCanvas = qrContainer.querySelector('canvas');
            if (qrCanvas) {
                const qrDataUrl = qrCanvas.toDataURL('image/png');
                doc.addImage(qrDataUrl, 'PNG', pageWidth - margin - 25, footerY + 5, 22, 22);
            }

            document.body.removeChild(qrContainer);

            // Disclaimer
            doc.setFontSize(7);
            doc.setTextColor(...colors.textMuted);
            doc.setFont('helvetica', 'normal');
            doc.text('This is a system-generated receipt and does not require a signature.', margin, pageHeight - 12);

            // Save
            doc.save('Receipt_' + data.receiptId + '.pdf');
        }

        // Allow Enter key to verify
        document.getElementById('receiptId').addEventListener('keypress', function (e) {
            if (e.key === 'Enter') {
                verifyReceipt();
            }
        });
    </script>
    <script src="../assets/js/transitions.js?v=1.0"></script>
    <script src="../assets/js/main.js?v=1.1"></script>
</body>
</html>